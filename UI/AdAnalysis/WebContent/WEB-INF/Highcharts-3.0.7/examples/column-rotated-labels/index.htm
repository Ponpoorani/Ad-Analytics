<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Highcharts Example</title>

<script type="text/javascript"
	src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
	<script src="../../js/highcharts.js"></script>
	<script src="../../js/modules/exporting.js"></script>
<script type="text/javascript">
	$(function() {
		var response = '{"name":Population}';
		$('#container')
				.highcharts(
						{
							chart : {
								type : 'column',
								margin : [ 50, 50, 100, 80 ]
							},
							title : {
								text : 'World\'s largest cities per 2008'
							},
							xAxis : {
								categories : [ 'Tokyo', 'Jakarta', 'New York',
										'Seoul', 'Manila', 'Mumbai',
										'Sao Paulo', 'Mexico City', 'Dehli',
										'Osaka', 'Cairo', 'Kolkata',
										'Los Angeles', 'Shanghai', 'Moscow',
										'Beijing', 'Buenos Aires', 'Guangzhou',
										'Shenzhen', 'Istanbul' ],
								labels : {
									rotation : -45,
									align : 'right',
									style : {
										fontSize : '13px',
										fontFamily : 'Verdana, sans-serif'
									}
								}
							},
							yAxis : {
								min : 0,
								title : {
									text :(function() {
										var request = ({"message":'Hello from browser'});
									    var jsonobj=JSON.stringify(request);
									    $.ajax({
									        data: {para:jsonobj},
									        dataType: 'json',
									        url: './TestServlet',
									        type: 'POST',
									        success: function(jsonObj){
									        	return jsonObj.message;
									        },
									        error: function() {
									        	return 'maaaafia';
									        }
									       }
									    )
									}())
								}
							},
							legend : {
								enabled : false
							},
							tooltip : {
								pointFormat : 'Population in 2008: <b>{point.y:.1f} millions</b>',
							},
							series : [ {
								name : (function() {
									var request = ({"message":'Hello from browser'});
								    var jsonobj=JSON.stringify(request);
								    $.ajax({
								        data: {para:jsonobj},
								        dataType: 'json',
								        url: './TestServlet',
								        type: 'POST',
								        success: function(jsonObj){
								        	document.write(jsonObj);
								        	document.write(jsonObj.message);
								        	return jsonObj.message;
								        },
								        error: function() {
								        	return 'maaaafia';
								        }
								       }
								    )
								}()),
								data : (function() {
									// generate an array of random data
									var data = [];
									data.push(345);
									data.push(1890);
									data.push(345);
									data.push(345);
									return data;
								}()),
								dataLabels : {
									enabled : true,
									rotation : -90,
									color : '#FFFFFF',
									align : 'right',
									x : 4,
									y : 10,
									style : {
										fontSize : '13px',
										fontFamily : 'Verdana, sans-serif',
										textShadow : '0 0 3px black'
									}
								}
							} ]
						});
	});
</script>
</head>
<body>
	
	
<div id="container"
		style="min-width: 500px; height: 400px; margin: 0 auto"></div>

</body>
</html>
